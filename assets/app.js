function get_short_url(e){{var t="http://url-shorten.tomi.dev/",r=document.getElementById("url").value;send_api_request(t+"api","url",r,function(e){var r=short_url_from_api_return(e),n=document.getElementById("response-data"),a=create_short_url_link(t,r);n.appendChild(a),display_response()})}}function send_api_request(e,t,r,n){var a;if(!window.XMLHttpRequest)return!1;a=new XMLHttpRequest,a.onreadystatechange=function(){4==a.readyState&&200==a.status&&n(a.responseText)};var s=e+"/?"+t+"="+r;a.open("GET",s,!0),a.send()}function create_short_url_link(e,t){var r=document.createElement("a");return r.href=e+t,r.innerHTML=t,r}function short_url_from_api_return(e){return e=JSON.parse(e),e.short_url}function display_ui(){var e=document.getElementById("response-wrapper"),t=document.getElementById("ui-wrapper");t.className="",e.className="hidden"}function display_response(){var e=document.getElementById("response-wrapper"),t=document.getElementById("ui-wrapper");t.className="hidden",e.className=""}var get_short_url_action=document.getElementById("shorten-action");get_short_url_action.addEventListener("click",function(){get_short_url()});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldF9zaG9ydF91cmwuanMiLCJ1c2VyX2ludGVyZmFjZV9hY3Rpb25zLmpzIl0sIm5hbWVzIjpbImdldF9zaG9ydF91cmwiLCJpbnB1dF91cmwiLCJhcGlfZG9tYWluIiwiZnVsbF91cmxfdmFsdWUiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwidmFsdWUiLCJzZW5kX2FwaV9yZXF1ZXN0IiwicmVzdWx0Iiwic2hvcnRfdXJsIiwic2hvcnRfdXJsX2Zyb21fYXBpX3JldHVybiIsInJlc3BvbnNlX2RhdGEiLCJyZXNwb25zZV9saW5rIiwiY3JlYXRlX3Nob3J0X3VybF9saW5rIiwiYXBwZW5kQ2hpbGQiLCJkaXNwbGF5X3Jlc3BvbnNlIiwidXJsIiwicGFyYW1ldGVyIiwiY2FsbGJhY2siLCJ4bWxodHRwIiwid2luZG93IiwiWE1MSHR0cFJlcXVlc3QiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwicmVzcG9uc2VUZXh0IiwiZnVsbF9yZXF1ZXN0X3VybCIsIm9wZW4iLCJzZW5kIiwiZG9tYWluIiwiY3JlYXRlRWxlbWVudCIsImhyZWYiLCJpbm5lckhUTUwiLCJyZXR1cm5lZF9kYXRlIiwiSlNPTiIsInBhcnNlIiwiZGlzcGxheV91aSIsInJlc3BvbnNlX2NvbnRhaW5lciIsInVpX2NvbnRhaW5lciIsImNsYXNzTmFtZSIsImdldF9zaG9ydF91cmxfYWN0aW9uIiwiYWRkRXZlbnRMaXN0ZW5lciJdLCJtYXBwaW5ncyI6IkFBSUEsUUFBQUEsZUFBQUMsR0FFQSxDQUFBLEdBQUFDLEdBQUEsK0JBQ0FDLEVBQUFDLFNBQUFDLGVBQUEsT0FBQUMsS0FFQUMsa0JBQUFMLEVBQUEsTUFBQSxNQUFBQyxFQUFBLFNBQUFLLEdBQ0EsR0FBQUMsR0FBQUMsMEJBQUFGLEdBQ0FHLEVBQUFQLFNBQUFDLGVBQUEsaUJBQ0FPLEVBQUFDLHNCQUFBWCxFQUFBTyxFQUNBRSxHQUFBRyxZQUFBRixHQUNBRyxzQkFJQSxRQUFBUixrQkFBQVMsRUFBQUMsRUFBQVgsRUFBQVksR0FDQSxHQUFBQyxFQUNBLEtBQUFDLE9BQUFDLGVBS0EsT0FBQSxDQUpBRixHQUFBLEdBQUFFLGdCQU1BRixFQUFBRyxtQkFBQSxXQUNBLEdBQUFILEVBQUFJLFlBQUEsS0FBQUosRUFBQUssUUFDQU4sRUFBQUMsRUFBQU0sY0FJQSxJQUFBQyxHQUFBVixFQUFBLEtBQUFDLEVBQUEsSUFBQVgsQ0FDQWEsR0FBQVEsS0FBQSxNQUFBRCxHQUFBLEdBQ0FQLEVBQUFTLE9BR0EsUUFBQWYsdUJBQUFnQixFQUFBcEIsR0FDQSxHQUFBRyxHQUFBUixTQUFBMEIsY0FBQSxJQUdBLE9BRkFsQixHQUFBbUIsS0FBQUYsRUFBQXBCLEVBQ0FHLEVBQUFvQixVQUFBdkIsRUFDQUcsRUFHQSxRQUFBRiwyQkFBQXVCLEdBRUEsTUFEQUEsR0FBQUMsS0FBQUMsTUFBQUYsR0FDQUEsRUFBQXhCLFVDckNBLFFBQUEyQixjQUNBLEdBQUFDLEdBQUFqQyxTQUFBQyxlQUFBLG9CQUNBaUMsRUFBQWxDLFNBQUFDLGVBQUEsYUFDQWlDLEdBQUFDLFVBQUEsR0FDQUYsRUFBQUUsVUFBQSxTQUdBLFFBQUF4QixvQkFDQSxHQUFBc0IsR0FBQWpDLFNBQUFDLGVBQUEsb0JBQ0FpQyxFQUFBbEMsU0FBQUMsZUFBQSxhQUNBaUMsR0FBQUMsVUFBQSxTQUNBRixFQUFBRSxVQUFBLEdBakJBLEdBQUFDLHNCQUFBcEMsU0FBQUMsZUFBQSxpQkFFQW1DLHNCQUFBQyxpQkFBQSxRQUFBLFdBQ0F6QyIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgdG9taSBvbiAxNC8wNi8xNS5cbiAqL1xuXG5mdW5jdGlvbiBnZXRfc2hvcnRfdXJsKGlucHV0X3VybCkge1xuICAgIC8vdXNlIEFQSSB0byBnZXQgc2hvcnQgdXJsXG4gICAgdmFyIGFwaV9kb21haW4gPSAnaHR0cDovL3VybC1zaG9ydGVuLnRvbWkuZGV2Lyc7XG4gICAgdmFyIGZ1bGxfdXJsX3ZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VybCcpLnZhbHVlO1xuICAgIC8vY2FsbCB0aGUgYXBpIGZ1bmN0aW9uIHdpdGggbXkgY2FsbGJhY2tcbiAgICB2YXIgc2hvcnRfdXJsX2FwaV9yZXR1cm4gPSBzZW5kX2FwaV9yZXF1ZXN0KGFwaV9kb21haW4gKyAnYXBpJywgJ3VybCcsIGZ1bGxfdXJsX3ZhbHVlLCBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgdmFyIHNob3J0X3VybCA9IHNob3J0X3VybF9mcm9tX2FwaV9yZXR1cm4ocmVzdWx0KTtcbiAgICAgICAgdmFyIHJlc3BvbnNlX2RhdGEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzcG9uc2UtZGF0YScpO1xuICAgICAgICB2YXIgcmVzcG9uc2VfbGluayA9IGNyZWF0ZV9zaG9ydF91cmxfbGluayhhcGlfZG9tYWluLCBzaG9ydF91cmwpO1xuICAgICAgICByZXNwb25zZV9kYXRhLmFwcGVuZENoaWxkKHJlc3BvbnNlX2xpbmspO1xuICAgICAgICBkaXNwbGF5X3Jlc3BvbnNlKCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHNlbmRfYXBpX3JlcXVlc3QodXJsLCBwYXJhbWV0ZXIsIHZhbHVlLCBjYWxsYmFjaykge1xuICAgIHZhciB4bWxodHRwO1xuICAgIGlmICh3aW5kb3cuWE1MSHR0cFJlcXVlc3QpIHtcbiAgICAgICAgeG1saHR0cD1uZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vc2hvdyBtZXNzYWdlIHRoYXQgdGhlIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB4bWxodHRwXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgeG1saHR0cC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh4bWxodHRwLnJlYWR5U3RhdGU9PTQgJiYgeG1saHR0cC5zdGF0dXM9PTIwMCkge1xuICAgICAgICAgICAgY2FsbGJhY2soeG1saHR0cC5yZXNwb25zZVRleHQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBmdWxsX3JlcXVlc3RfdXJsID0gdXJsKycvPycrcGFyYW1ldGVyKyc9Jyt2YWx1ZTtcbiAgICB4bWxodHRwLm9wZW4oXCJHRVRcIixmdWxsX3JlcXVlc3RfdXJsLHRydWUpO1xuICAgIHhtbGh0dHAuc2VuZCgpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVfc2hvcnRfdXJsX2xpbmsgKGRvbWFpbiwgc2hvcnRfdXJsKSB7XG4gICAgdmFyIHJlc3BvbnNlX2xpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgcmVzcG9uc2VfbGluay5ocmVmID0gZG9tYWluK3Nob3J0X3VybDtcbiAgICByZXNwb25zZV9saW5rLmlubmVySFRNTCA9IHNob3J0X3VybDtcbiAgICByZXR1cm4gcmVzcG9uc2VfbGluaztcbn1cblxuZnVuY3Rpb24gc2hvcnRfdXJsX2Zyb21fYXBpX3JldHVybihyZXR1cm5lZF9kYXRlICl7XG4gICAgcmV0dXJuZWRfZGF0ZSA9IEpTT04ucGFyc2UocmV0dXJuZWRfZGF0ZSk7XG4gICAgcmV0dXJuIHJldHVybmVkX2RhdGUuc2hvcnRfdXJsO1xufSIsIi8qKlxuICogQ3JlYXRlZCBieSB0b21pIG9uIDE0LzA2LzE1LlxuICovXG5cbnZhciBnZXRfc2hvcnRfdXJsX2FjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hvcnRlbi1hY3Rpb25cIik7XG5cbmdldF9zaG9ydF91cmxfYWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpe1xuICAgIGdldF9zaG9ydF91cmwoKTtcbn0pO1xuXG5mdW5jdGlvbiBkaXNwbGF5X3VpICgpIHtcbiAgICB2YXIgcmVzcG9uc2VfY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3BvbnNlLXdyYXBwZXInKTtcbiAgICB2YXIgdWlfY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VpLXdyYXBwZXInKTtcbiAgICB1aV9jb250YWluZXIuY2xhc3NOYW1lID0gJyc7XG4gICAgcmVzcG9uc2VfY29udGFpbmVyLmNsYXNzTmFtZSA9ICdoaWRkZW4nO1xufVxuXG5mdW5jdGlvbiBkaXNwbGF5X3Jlc3BvbnNlICgpIHtcbiAgICB2YXIgcmVzcG9uc2VfY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3BvbnNlLXdyYXBwZXInKTtcbiAgICB2YXIgdWlfY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VpLXdyYXBwZXInKTtcbiAgICB1aV9jb250YWluZXIuY2xhc3NOYW1lID0gJ2hpZGRlbic7XG4gICAgcmVzcG9uc2VfY29udGFpbmVyLmNsYXNzTmFtZSA9ICcnO1xufSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==