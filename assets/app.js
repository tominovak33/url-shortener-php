function get_short_url(e){{var t="http://url-shorten.tomi.dev/",n=document.getElementById("url").value;send_api_request(t+"api","url",n,function(e){var n=short_url_from_api_return(e),r=document.getElementById("response-data"),o=create_short_url_link(t,n);r.appendChild(o),display_response(),add_data_to_copy("url-copy-button",t+n)})}}function send_api_request(e,t,n,r){var o;if(!window.XMLHttpRequest)return!1;o=new XMLHttpRequest,o.onreadystatechange=function(){4==o.readyState&&200==o.status&&r(o.responseText)};var a=e+"/?"+t+"="+n;o.open("GET",a,!0),o.send()}function create_short_url_link(e,t){var n=document.createElement("a");return n.href=e+t,n.innerHTML=e+t,n}function short_url_from_api_return(e){return e=JSON.parse(e),e.short_url}function add_data_to_copy(e,t){var n=document.getElementById(e);console.log(n),n.setAttribute("data-clipboard-text",t);var r=new ZeroClipboard(n);r.on("aftercopy",function(e){n.innerHTML="Copied"})}function display_ui(){var e=document.getElementById("response-wrapper"),t=document.getElementById("ui-wrapper");t.className="",e.className="hidden"}function display_response(){var e=document.getElementById("response-wrapper"),t=document.getElementById("ui-wrapper");t.className="hidden",e.className=""}function show_clipboard_prompt(e){}var get_short_url_action=document.getElementById("shorten-action");get_short_url_action.addEventListener("click",function(){get_short_url()});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldF9zaG9ydF91cmwuanMiLCJ1c2VyX2ludGVyZmFjZV9hY3Rpb25zLmpzIl0sIm5hbWVzIjpbImdldF9zaG9ydF91cmwiLCJpbnB1dF91cmwiLCJhcGlfZG9tYWluIiwiZnVsbF91cmxfdmFsdWUiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwidmFsdWUiLCJzZW5kX2FwaV9yZXF1ZXN0IiwicmVzdWx0Iiwic2hvcnRfdXJsIiwic2hvcnRfdXJsX2Zyb21fYXBpX3JldHVybiIsInJlc3BvbnNlX2RhdGEiLCJyZXNwb25zZV9saW5rIiwiY3JlYXRlX3Nob3J0X3VybF9saW5rIiwiYXBwZW5kQ2hpbGQiLCJkaXNwbGF5X3Jlc3BvbnNlIiwiYWRkX2RhdGFfdG9fY29weSIsInVybCIsInBhcmFtZXRlciIsImNhbGxiYWNrIiwieG1saHR0cCIsIndpbmRvdyIsIlhNTEh0dHBSZXF1ZXN0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsInJlc3BvbnNlVGV4dCIsImZ1bGxfcmVxdWVzdF91cmwiLCJvcGVuIiwic2VuZCIsImRvbWFpbiIsImNyZWF0ZUVsZW1lbnQiLCJocmVmIiwiaW5uZXJIVE1MIiwicmV0dXJuZWRfZGF0ZSIsIkpTT04iLCJwYXJzZSIsImlkX3RvX2NvcHlfZnJvbSIsImRhdGEiLCJjb3B5X2J1dHRvbiIsImNvbnNvbGUiLCJsb2ciLCJzZXRBdHRyaWJ1dGUiLCJjbGllbnQiLCJaZXJvQ2xpcGJvYXJkIiwib24iLCJldmVudCIsImRpc3BsYXlfdWkiLCJyZXNwb25zZV9jb250YWluZXIiLCJ1aV9jb250YWluZXIiLCJjbGFzc05hbWUiLCJzaG93X2NsaXBib2FyZF9wcm9tcHQiLCJ0ZXh0IiwiZ2V0X3Nob3J0X3VybF9hY3Rpb24iLCJhZGRFdmVudExpc3RlbmVyIl0sIm1hcHBpbmdzIjoiQUFJQSxRQUFBQSxlQUFBQyxHQUVBLENBQUEsR0FBQUMsR0FBQSwrQkFDQUMsRUFBQUMsU0FBQUMsZUFBQSxPQUFBQyxLQUVBQyxrQkFBQUwsRUFBQSxNQUFBLE1BQUFDLEVBQUEsU0FBQUssR0FDQSxHQUFBQyxHQUFBQywwQkFBQUYsR0FDQUcsRUFBQVAsU0FBQUMsZUFBQSxpQkFDQU8sRUFBQUMsc0JBQUFYLEVBQUFPLEVBQ0FFLEdBQUFHLFlBQUFGLEdBQ0FHLG1CQUVBQyxpQkFBQSxrQkFBQWQsRUFBQU8sTUFJQSxRQUFBRixrQkFBQVUsRUFBQUMsRUFBQVosRUFBQWEsR0FDQSxHQUFBQyxFQUNBLEtBQUFDLE9BQUFDLGVBS0EsT0FBQSxDQUpBRixHQUFBLEdBQUFFLGdCQU1BRixFQUFBRyxtQkFBQSxXQUNBLEdBQUFILEVBQUFJLFlBQUEsS0FBQUosRUFBQUssUUFDQU4sRUFBQUMsRUFBQU0sY0FJQSxJQUFBQyxHQUFBVixFQUFBLEtBQUFDLEVBQUEsSUFBQVosQ0FDQWMsR0FBQVEsS0FBQSxNQUFBRCxHQUFBLEdBQ0FQLEVBQUFTLE9BR0EsUUFBQWhCLHVCQUFBaUIsRUFBQXJCLEdBQ0EsR0FBQUcsR0FBQVIsU0FBQTJCLGNBQUEsSUFHQSxPQUZBbkIsR0FBQW9CLEtBQUFGLEVBQUFyQixFQUNBRyxFQUFBcUIsVUFBQUgsRUFBQXJCLEVBQ0FHLEVBR0EsUUFBQUYsMkJBQUF3QixHQUVBLE1BREFBLEdBQUFDLEtBQUFDLE1BQUFGLEdBQ0FBLEVBQUF6QixVQUdBLFFBQUFPLGtCQUFBcUIsRUFBQUMsR0FDQSxHQUFBQyxHQUFBbkMsU0FBQUMsZUFBQWdDLEVBQ0FHLFNBQUFDLElBQUFGLEdBQ0FBLEVBQUFHLGFBQUEsc0JBQUFKLEVBRUEsSUFBQUssR0FBQSxHQUFBQyxlQUFBTCxFQUVBSSxHQUFBRSxHQUFBLFlBQUEsU0FBQUMsR0FDQVAsRUFBQU4sVUFBQSxXQ2xEQSxRQUFBYyxjQUNBLEdBQUFDLEdBQUE1QyxTQUFBQyxlQUFBLG9CQUNBNEMsRUFBQTdDLFNBQUFDLGVBQUEsYUFDQTRDLEdBQUFDLFVBQUEsR0FDQUYsRUFBQUUsVUFBQSxTQUdBLFFBQUFuQyxvQkFDQSxHQUFBaUMsR0FBQTVDLFNBQUFDLGVBQUEsb0JBQ0E0QyxFQUFBN0MsU0FBQUMsZUFBQSxhQUNBNEMsR0FBQUMsVUFBQSxTQUNBRixFQUFBRSxVQUFBLEdBR0EsUUFBQUMsdUJBQUFDLElBcEJBLEdBQUFDLHNCQUFBakQsU0FBQUMsZUFBQSxpQkFFQWdELHNCQUFBQyxpQkFBQSxRQUFBLFdBQ0F0RCIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgdG9taSBvbiAxNC8wNi8xNS5cbiAqL1xuXG5mdW5jdGlvbiBnZXRfc2hvcnRfdXJsKGlucHV0X3VybCkge1xuICAgIC8vdXNlIEFQSSB0byBnZXQgc2hvcnQgdXJsXG4gICAgdmFyIGFwaV9kb21haW4gPSAnaHR0cDovL3VybC1zaG9ydGVuLnRvbWkuZGV2Lyc7XG4gICAgdmFyIGZ1bGxfdXJsX3ZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VybCcpLnZhbHVlO1xuICAgIC8vY2FsbCB0aGUgYXBpIGZ1bmN0aW9uIHdpdGggbXkgY2FsbGJhY2tcbiAgICB2YXIgc2hvcnRfdXJsX2FwaV9yZXR1cm4gPSBzZW5kX2FwaV9yZXF1ZXN0KGFwaV9kb21haW4gKyAnYXBpJywgJ3VybCcsIGZ1bGxfdXJsX3ZhbHVlLCBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgdmFyIHNob3J0X3VybCA9IHNob3J0X3VybF9mcm9tX2FwaV9yZXR1cm4ocmVzdWx0KTtcbiAgICAgICAgdmFyIHJlc3BvbnNlX2RhdGEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzcG9uc2UtZGF0YScpO1xuICAgICAgICB2YXIgcmVzcG9uc2VfbGluayA9IGNyZWF0ZV9zaG9ydF91cmxfbGluayhhcGlfZG9tYWluLCBzaG9ydF91cmwpO1xuICAgICAgICByZXNwb25zZV9kYXRhLmFwcGVuZENoaWxkKHJlc3BvbnNlX2xpbmspO1xuICAgICAgICBkaXNwbGF5X3Jlc3BvbnNlKCk7XG4gICAgICAgIC8vc2hvd19jbGlwYm9hcmRfcHJvbXB0KGFwaV9kb21haW4rc2hvcnRfdXJsKTtcbiAgICAgICAgYWRkX2RhdGFfdG9fY29weSgndXJsLWNvcHktYnV0dG9uJywgYXBpX2RvbWFpbitzaG9ydF91cmwpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBzZW5kX2FwaV9yZXF1ZXN0KHVybCwgcGFyYW1ldGVyLCB2YWx1ZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgeG1saHR0cDtcbiAgICBpZiAod2luZG93LlhNTEh0dHBSZXF1ZXN0KSB7XG4gICAgICAgIHhtbGh0dHA9bmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvL3Nob3cgbWVzc2FnZSB0aGF0IHRoZSBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgeG1saHR0cFxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHhtbGh0dHAub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoeG1saHR0cC5yZWFkeVN0YXRlPT00ICYmIHhtbGh0dHAuc3RhdHVzPT0yMDApIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKHhtbGh0dHAucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgZnVsbF9yZXF1ZXN0X3VybCA9IHVybCsnLz8nK3BhcmFtZXRlcisnPScrdmFsdWU7XG4gICAgeG1saHR0cC5vcGVuKFwiR0VUXCIsZnVsbF9yZXF1ZXN0X3VybCx0cnVlKTtcbiAgICB4bWxodHRwLnNlbmQoKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlX3Nob3J0X3VybF9saW5rIChkb21haW4sIHNob3J0X3VybCkge1xuICAgIHZhciByZXNwb25zZV9saW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIHJlc3BvbnNlX2xpbmsuaHJlZiA9IGRvbWFpbitzaG9ydF91cmw7XG4gICAgcmVzcG9uc2VfbGluay5pbm5lckhUTUwgPSBkb21haW4rc2hvcnRfdXJsO1xuICAgIHJldHVybiByZXNwb25zZV9saW5rO1xufVxuXG5mdW5jdGlvbiBzaG9ydF91cmxfZnJvbV9hcGlfcmV0dXJuKHJldHVybmVkX2RhdGUgKXtcbiAgICByZXR1cm5lZF9kYXRlID0gSlNPTi5wYXJzZShyZXR1cm5lZF9kYXRlKTtcbiAgICByZXR1cm4gcmV0dXJuZWRfZGF0ZS5zaG9ydF91cmw7XG59XG5cbmZ1bmN0aW9uIGFkZF9kYXRhX3RvX2NvcHkoaWRfdG9fY29weV9mcm9tICxkYXRhKSB7XG4gICAgdmFyIGNvcHlfYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRfdG9fY29weV9mcm9tKTtcbiAgICBjb25zb2xlLmxvZyhjb3B5X2J1dHRvbik7XG4gICAgY29weV9idXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLWNsaXBib2FyZC10ZXh0JywgZGF0YSk7XG5cbiAgICB2YXIgY2xpZW50ID0gbmV3IFplcm9DbGlwYm9hcmQoY29weV9idXR0b24pO1xuXG4gICAgY2xpZW50Lm9uKFwiYWZ0ZXJjb3B5XCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBjb3B5X2J1dHRvbi5pbm5lckhUTUwgPSAnQ29waWVkJztcbiAgICB9KTtcbn1cblxuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IHRvbWkgb24gMTQvMDYvMTUuXG4gKi9cblxudmFyIGdldF9zaG9ydF91cmxfYWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaG9ydGVuLWFjdGlvblwiKTtcblxuZ2V0X3Nob3J0X3VybF9hY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCl7XG4gICAgZ2V0X3Nob3J0X3VybCgpO1xufSk7XG5cbmZ1bmN0aW9uIGRpc3BsYXlfdWkgKCkge1xuICAgIHZhciByZXNwb25zZV9jb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzcG9uc2Utd3JhcHBlcicpO1xuICAgIHZhciB1aV9jb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndWktd3JhcHBlcicpO1xuICAgIHVpX2NvbnRhaW5lci5jbGFzc05hbWUgPSAnJztcbiAgICByZXNwb25zZV9jb250YWluZXIuY2xhc3NOYW1lID0gJ2hpZGRlbic7XG59XG5cbmZ1bmN0aW9uIGRpc3BsYXlfcmVzcG9uc2UgKCkge1xuICAgIHZhciByZXNwb25zZV9jb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzcG9uc2Utd3JhcHBlcicpO1xuICAgIHZhciB1aV9jb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndWktd3JhcHBlcicpO1xuICAgIHVpX2NvbnRhaW5lci5jbGFzc05hbWUgPSAnaGlkZGVuJztcbiAgICByZXNwb25zZV9jb250YWluZXIuY2xhc3NOYW1lID0gJyc7XG59XG5cbmZ1bmN0aW9uIHNob3dfY2xpcGJvYXJkX3Byb21wdCh0ZXh0KSB7XG4gICAgLy93aW5kb3cucHJvbXB0KFwiQ29weSB0byBjbGlwYm9hcmQ6IEN0cmwrQywgRW50ZXJcIiwgdGV4dCk7XG59Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9