function get_short_url(e){{var t=document.getElementById("url").value;send_api_request(api_domain+"api","url",t,function(e){var t=short_url_from_api_return(e),n=document.getElementById("response-data"),r=create_short_url_link(api_domain,t,"response-link");n.appendChild(r),display_response(),add_data_to_copy("url-copy-button",api_domain+t)})}}function send_api_request(e,t,n,r){var a;if(!window.XMLHttpRequest)return!1;a=new XMLHttpRequest,a.onreadystatechange=function(){4==a.readyState&&200==a.status&&r(a.responseText)};var o=e+"/?"+t+"="+n;a.open("GET",o,!0),a.send()}function create_short_url_link(e,t,n){var r=document.createElement("a");return r.href=e+t,r.id=n,r.innerHTML=e+t,r}function short_url_from_api_return(e){return e=JSON.parse(e),e.short_url}function add_data_to_copy(e,t){var n=document.getElementById(e);console.log(n),n.setAttribute("data-clipboard-text",t);var r=new ZeroClipboard(n);r.on("aftercopy",function(e){n.innerHTML="Copied"})}function display_ui(){var e=document.getElementById("response-wrapper"),t=document.getElementById("ui-wrapper");t.className="",e.className="hidden"}function display_response(){var e=document.getElementById("response-wrapper"),t=document.getElementById("ui-wrapper");t.className="hidden",e.className=""}function show_clipboard_prompt(e){}var get_short_url_action=document.getElementById("shorten-action");get_short_url_action.addEventListener("click",function(){get_short_url()});