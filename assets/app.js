function get_short_url(e){{var t="http://url-shorten.tomi.dev/",n=document.getElementById("url").value;send_api_request(t+"api","url",n,function(e){var n=short_url_from_api_return(e),r=document.getElementById("response-data"),o=create_short_url_link(t,n,"response-link");r.appendChild(o),display_response(),add_data_to_copy("url-copy-button",t+n)})}}function send_api_request(e,t,n,r){var o;if(!window.XMLHttpRequest)return!1;o=new XMLHttpRequest,o.onreadystatechange=function(){4==o.readyState&&200==o.status&&r(o.responseText)};var a=e+"/?"+t+"="+n;o.open("GET",a,!0),o.send()}function create_short_url_link(e,t,n){var r=document.createElement("a");return r.href=e+t,r.id=n,r.innerHTML=e+t,r}function short_url_from_api_return(e){return e=JSON.parse(e),e.short_url}function add_data_to_copy(e,t){var n=document.getElementById(e);console.log(n),n.setAttribute("data-clipboard-text",t);var r=new ZeroClipboard(n);r.on("aftercopy",function(e){n.innerHTML="Copied"})}function display_ui(){var e=document.getElementById("response-wrapper"),t=document.getElementById("ui-wrapper");t.className="",e.className="hidden"}function display_response(){var e=document.getElementById("response-wrapper"),t=document.getElementById("ui-wrapper");t.className="hidden",e.className=""}function show_clipboard_prompt(e){}var get_short_url_action=document.getElementById("shorten-action");get_short_url_action.addEventListener("click",function(){get_short_url()});