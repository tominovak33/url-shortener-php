function get_short_url(e){{var t="http://url-shorten.tomi.dev/",n=document.getElementById("url").value;send_api_request(t+"api","url",n,function(e){var n=short_url_from_api_return(e),r=document.getElementById("response-data"),o=create_short_url_link(t,n,"response-link");r.appendChild(o),display_response(),add_data_to_copy("url-copy-button",t+n)})}}function send_api_request(e,t,n,r){var o;if(!window.XMLHttpRequest)return!1;o=new XMLHttpRequest,o.onreadystatechange=function(){4==o.readyState&&200==o.status&&r(o.responseText)};var a=e+"/?"+t+"="+n;o.open("GET",a,!0),o.send()}function create_short_url_link(e,t,n){var r=document.createElement("a");return r.href=e+t,r.id=n,r.innerHTML=e+t,r}function short_url_from_api_return(e){return e=JSON.parse(e),e.short_url}function add_data_to_copy(e,t){var n=document.getElementById(e);console.log(n),n.setAttribute("data-clipboard-text",t);var r=new ZeroClipboard(n);r.on("aftercopy",function(e){n.innerHTML="Copied"})}function display_ui(){var e=document.getElementById("response-wrapper"),t=document.getElementById("ui-wrapper");t.className="",e.className="hidden"}function display_response(){var e=document.getElementById("response-wrapper"),t=document.getElementById("ui-wrapper");t.className="hidden",e.className=""}function show_clipboard_prompt(e){}var get_short_url_action=document.getElementById("shorten-action");get_short_url_action.addEventListener("click",function(){get_short_url()});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldF9zaG9ydF91cmwuanMiLCJ1c2VyX2ludGVyZmFjZV9hY3Rpb25zLmpzIl0sIm5hbWVzIjpbImdldF9zaG9ydF91cmwiLCJpbnB1dF91cmwiLCJhcGlfZG9tYWluIiwiZnVsbF91cmxfdmFsdWUiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwidmFsdWUiLCJzZW5kX2FwaV9yZXF1ZXN0IiwicmVzdWx0Iiwic2hvcnRfdXJsIiwic2hvcnRfdXJsX2Zyb21fYXBpX3JldHVybiIsInJlc3BvbnNlX2RhdGEiLCJyZXNwb25zZV9saW5rIiwiY3JlYXRlX3Nob3J0X3VybF9saW5rIiwiYXBwZW5kQ2hpbGQiLCJkaXNwbGF5X3Jlc3BvbnNlIiwiYWRkX2RhdGFfdG9fY29weSIsInVybCIsInBhcmFtZXRlciIsImNhbGxiYWNrIiwieG1saHR0cCIsIndpbmRvdyIsIlhNTEh0dHBSZXF1ZXN0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsInJlc3BvbnNlVGV4dCIsImZ1bGxfcmVxdWVzdF91cmwiLCJvcGVuIiwic2VuZCIsImRvbWFpbiIsImlkIiwiY3JlYXRlRWxlbWVudCIsImhyZWYiLCJpbm5lckhUTUwiLCJyZXR1cm5lZF9kYXRlIiwiSlNPTiIsInBhcnNlIiwiaWRfdG9fY29weV9mcm9tIiwiZGF0YSIsImNvcHlfYnV0dG9uIiwiY29uc29sZSIsImxvZyIsInNldEF0dHJpYnV0ZSIsImNsaWVudCIsIlplcm9DbGlwYm9hcmQiLCJvbiIsImV2ZW50IiwiZGlzcGxheV91aSIsInJlc3BvbnNlX2NvbnRhaW5lciIsInVpX2NvbnRhaW5lciIsImNsYXNzTmFtZSIsInNob3dfY2xpcGJvYXJkX3Byb21wdCIsInRleHQiLCJnZXRfc2hvcnRfdXJsX2FjdGlvbiIsImFkZEV2ZW50TGlzdGVuZXIiXSwibWFwcGluZ3MiOiJBQUlBLFFBQUFBLGVBQUFDLEdBRUEsQ0FBQSxHQUFBQyxHQUFBLCtCQUNBQyxFQUFBQyxTQUFBQyxlQUFBLE9BQUFDLEtBRUFDLGtCQUFBTCxFQUFBLE1BQUEsTUFBQUMsRUFBQSxTQUFBSyxHQUNBLEdBQUFDLEdBQUFDLDBCQUFBRixHQUNBRyxFQUFBUCxTQUFBQyxlQUFBLGlCQUNBTyxFQUFBQyxzQkFBQVgsRUFBQU8sRUFBQSxnQkFDQUUsR0FBQUcsWUFBQUYsR0FDQUcsbUJBRUFDLGlCQUFBLGtCQUFBZCxFQUFBTyxNQUlBLFFBQUFGLGtCQUFBVSxFQUFBQyxFQUFBWixFQUFBYSxHQUNBLEdBQUFDLEVBQ0EsS0FBQUMsT0FBQUMsZUFLQSxPQUFBLENBSkFGLEdBQUEsR0FBQUUsZ0JBTUFGLEVBQUFHLG1CQUFBLFdBQ0EsR0FBQUgsRUFBQUksWUFBQSxLQUFBSixFQUFBSyxRQUNBTixFQUFBQyxFQUFBTSxjQUlBLElBQUFDLEdBQUFWLEVBQUEsS0FBQUMsRUFBQSxJQUFBWixDQUNBYyxHQUFBUSxLQUFBLE1BQUFELEdBQUEsR0FDQVAsRUFBQVMsT0FHQSxRQUFBaEIsdUJBQUFpQixFQUFBckIsRUFBQXNCLEdBQ0EsR0FBQW5CLEdBQUFSLFNBQUE0QixjQUFBLElBSUEsT0FIQXBCLEdBQUFxQixLQUFBSCxFQUFBckIsRUFDQUcsRUFBQW1CLEdBQUFBLEVBQ0FuQixFQUFBc0IsVUFBQUosRUFBQXJCLEVBQ0FHLEVBR0EsUUFBQUYsMkJBQUF5QixHQUVBLE1BREFBLEdBQUFDLEtBQUFDLE1BQUFGLEdBQ0FBLEVBQUExQixVQUdBLFFBQUFPLGtCQUFBc0IsRUFBQUMsR0FDQSxHQUFBQyxHQUFBcEMsU0FBQUMsZUFBQWlDLEVBQ0FHLFNBQUFDLElBQUFGLEdBQ0FBLEVBQUFHLGFBQUEsc0JBQUFKLEVBRUEsSUFBQUssR0FBQSxHQUFBQyxlQUFBTCxFQUVBSSxHQUFBRSxHQUFBLFlBQUEsU0FBQUMsR0FDQVAsRUFBQU4sVUFBQSxXQ25EQSxRQUFBYyxjQUNBLEdBQUFDLEdBQUE3QyxTQUFBQyxlQUFBLG9CQUNBNkMsRUFBQTlDLFNBQUFDLGVBQUEsYUFDQTZDLEdBQUFDLFVBQUEsR0FDQUYsRUFBQUUsVUFBQSxTQUdBLFFBQUFwQyxvQkFDQSxHQUFBa0MsR0FBQTdDLFNBQUFDLGVBQUEsb0JBQ0E2QyxFQUFBOUMsU0FBQUMsZUFBQSxhQUNBNkMsR0FBQUMsVUFBQSxTQUNBRixFQUFBRSxVQUFBLEdBR0EsUUFBQUMsdUJBQUFDLElBcEJBLEdBQUFDLHNCQUFBbEQsU0FBQUMsZUFBQSxpQkFFQWlELHNCQUFBQyxpQkFBQSxRQUFBLFdBQ0F2RCIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgdG9taSBvbiAxNC8wNi8xNS5cbiAqL1xuXG5mdW5jdGlvbiBnZXRfc2hvcnRfdXJsKGlucHV0X3VybCkge1xuICAgIC8vdXNlIEFQSSB0byBnZXQgc2hvcnQgdXJsXG4gICAgdmFyIGFwaV9kb21haW4gPSAnaHR0cDovL3VybC1zaG9ydGVuLnRvbWkuZGV2Lyc7XG4gICAgdmFyIGZ1bGxfdXJsX3ZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VybCcpLnZhbHVlO1xuICAgIC8vY2FsbCB0aGUgYXBpIGZ1bmN0aW9uIHdpdGggbXkgY2FsbGJhY2tcbiAgICB2YXIgc2hvcnRfdXJsX2FwaV9yZXR1cm4gPSBzZW5kX2FwaV9yZXF1ZXN0KGFwaV9kb21haW4gKyAnYXBpJywgJ3VybCcsIGZ1bGxfdXJsX3ZhbHVlLCBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgdmFyIHNob3J0X3VybCA9IHNob3J0X3VybF9mcm9tX2FwaV9yZXR1cm4ocmVzdWx0KTtcbiAgICAgICAgdmFyIHJlc3BvbnNlX2RhdGEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzcG9uc2UtZGF0YScpO1xuICAgICAgICB2YXIgcmVzcG9uc2VfbGluayA9IGNyZWF0ZV9zaG9ydF91cmxfbGluayhhcGlfZG9tYWluLCBzaG9ydF91cmwsICdyZXNwb25zZS1saW5rJyk7XG4gICAgICAgIHJlc3BvbnNlX2RhdGEuYXBwZW5kQ2hpbGQocmVzcG9uc2VfbGluayk7XG4gICAgICAgIGRpc3BsYXlfcmVzcG9uc2UoKTtcbiAgICAgICAgLy9zaG93X2NsaXBib2FyZF9wcm9tcHQoYXBpX2RvbWFpbitzaG9ydF91cmwpO1xuICAgICAgICBhZGRfZGF0YV90b19jb3B5KCd1cmwtY29weS1idXR0b24nLCBhcGlfZG9tYWluK3Nob3J0X3VybCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHNlbmRfYXBpX3JlcXVlc3QodXJsLCBwYXJhbWV0ZXIsIHZhbHVlLCBjYWxsYmFjaykge1xuICAgIHZhciB4bWxodHRwO1xuICAgIGlmICh3aW5kb3cuWE1MSHR0cFJlcXVlc3QpIHtcbiAgICAgICAgeG1saHR0cD1uZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vc2hvdyBtZXNzYWdlIHRoYXQgdGhlIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB4bWxodHRwXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgeG1saHR0cC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh4bWxodHRwLnJlYWR5U3RhdGU9PTQgJiYgeG1saHR0cC5zdGF0dXM9PTIwMCkge1xuICAgICAgICAgICAgY2FsbGJhY2soeG1saHR0cC5yZXNwb25zZVRleHQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBmdWxsX3JlcXVlc3RfdXJsID0gdXJsKycvPycrcGFyYW1ldGVyKyc9Jyt2YWx1ZTtcbiAgICB4bWxodHRwLm9wZW4oXCJHRVRcIixmdWxsX3JlcXVlc3RfdXJsLHRydWUpO1xuICAgIHhtbGh0dHAuc2VuZCgpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVfc2hvcnRfdXJsX2xpbmsgKGRvbWFpbiwgc2hvcnRfdXJsLCBpZCkge1xuICAgIHZhciByZXNwb25zZV9saW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIHJlc3BvbnNlX2xpbmsuaHJlZiA9IGRvbWFpbitzaG9ydF91cmw7XG4gICAgcmVzcG9uc2VfbGluay5pZCA9IGlkO1xuICAgIHJlc3BvbnNlX2xpbmsuaW5uZXJIVE1MID0gZG9tYWluK3Nob3J0X3VybDtcbiAgICByZXR1cm4gcmVzcG9uc2VfbGluaztcbn1cblxuZnVuY3Rpb24gc2hvcnRfdXJsX2Zyb21fYXBpX3JldHVybihyZXR1cm5lZF9kYXRlICl7XG4gICAgcmV0dXJuZWRfZGF0ZSA9IEpTT04ucGFyc2UocmV0dXJuZWRfZGF0ZSk7XG4gICAgcmV0dXJuIHJldHVybmVkX2RhdGUuc2hvcnRfdXJsO1xufVxuXG5mdW5jdGlvbiBhZGRfZGF0YV90b19jb3B5KGlkX3RvX2NvcHlfZnJvbSAsZGF0YSkge1xuICAgIHZhciBjb3B5X2J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkX3RvX2NvcHlfZnJvbSk7XG4gICAgY29uc29sZS5sb2coY29weV9idXR0b24pO1xuICAgIGNvcHlfYnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1jbGlwYm9hcmQtdGV4dCcsIGRhdGEpO1xuXG4gICAgdmFyIGNsaWVudCA9IG5ldyBaZXJvQ2xpcGJvYXJkKGNvcHlfYnV0dG9uKTtcblxuICAgIGNsaWVudC5vbihcImFmdGVyY29weVwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgY29weV9idXR0b24uaW5uZXJIVE1MID0gJ0NvcGllZCc7XG4gICAgfSk7XG59IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IHRvbWkgb24gMTQvMDYvMTUuXG4gKi9cblxudmFyIGdldF9zaG9ydF91cmxfYWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaG9ydGVuLWFjdGlvblwiKTtcblxuZ2V0X3Nob3J0X3VybF9hY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCl7XG4gICAgZ2V0X3Nob3J0X3VybCgpO1xufSk7XG5cbmZ1bmN0aW9uIGRpc3BsYXlfdWkgKCkge1xuICAgIHZhciByZXNwb25zZV9jb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzcG9uc2Utd3JhcHBlcicpO1xuICAgIHZhciB1aV9jb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndWktd3JhcHBlcicpO1xuICAgIHVpX2NvbnRhaW5lci5jbGFzc05hbWUgPSAnJztcbiAgICByZXNwb25zZV9jb250YWluZXIuY2xhc3NOYW1lID0gJ2hpZGRlbic7XG59XG5cbmZ1bmN0aW9uIGRpc3BsYXlfcmVzcG9uc2UgKCkge1xuICAgIHZhciByZXNwb25zZV9jb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzcG9uc2Utd3JhcHBlcicpO1xuICAgIHZhciB1aV9jb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndWktd3JhcHBlcicpO1xuICAgIHVpX2NvbnRhaW5lci5jbGFzc05hbWUgPSAnaGlkZGVuJztcbiAgICByZXNwb25zZV9jb250YWluZXIuY2xhc3NOYW1lID0gJyc7XG59XG5cbmZ1bmN0aW9uIHNob3dfY2xpcGJvYXJkX3Byb21wdCh0ZXh0KSB7XG4gICAgLy93aW5kb3cucHJvbXB0KFwiQ29weSB0byBjbGlwYm9hcmQ6IEN0cmwrQywgRW50ZXJcIiwgdGV4dCk7XG59Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9